import{u as p,b as u,r as n,j as e,t as x,as as f,ac as j}from"./index-c7sYi7Kz.js";import{v as w}from"./index-Dv0ljocH.js";import{R as b}from"./index-C0cNSHUL.js";const k=()=>{const a=p(),c=u(),[r,m]=n.useState(""),[i,d]=n.useState(""),[l,t]=n.useState("");n.useEffect(()=>{b.send({hitType:"pageview",page:location.pathname})},[location]);const h=async()=>{if(w(r)&&i){t("");try{const s=await f({email:r,password:i});if(s!=null&&s.data){const{data:o,accessToken:g}=s;localStorage.setItem("customer",JSON.stringify(o)),localStorage.setItem("userToken",g||""),c(j(o)),o.customerType==="admin"?a("/upload"):a("/")}else{t((s==null?void 0:s.message)||"Something went wrong. Please try again");return}}catch{t("Something went wrong. Please try again")}}else{t("Please enter a valid email");return}};return e.jsx("section",{className:"mid-section login-sec",children:e.jsxs("div",{className:"login-content",children:[e.jsx("div",{className:"sign-in-tip text-center",children:e.jsx("h4",{children:"---- Sign in with your registered email and password ----"})}),e.jsxs("form",{onSubmit:s=>s.preventDefault(),children:[e.jsxs("div",{className:"mb-3 mt-3",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",id:"email",name:"email",required:!0,value:r,onChange:s=>m(s.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"pwd",children:"Password"}),e.jsx("input",{type:"password",className:"form-control",id:"pwd",name:"pswd",required:!0,value:i,onChange:s=>d(s.target.value),style:{width:"100%"}})]}),e.jsx("div",{className:"form-check mb-3",children:e.jsxs("label",{className:"form-check-label",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",name:"remember"})," ","Remember Me"]})}),e.jsx("button",{type:"submit",className:"btn",onClick:()=>{h(),x("loginCTA",{buttonName:"loginCTA"})},children:"Login"}),e.jsxs("h6",{className:"forget-passord text-end",children:[" ",e.jsxs("a",{href:"#",onClick:()=>a("/forgotpassword"),children:[" ","Forget Password"]})]}),l&&e.jsx("div",{style:{color:"#d22f26"},children:l})]}),e.jsx("div",{className:"new-sign-in text-center",children:e.jsxs("h6",{children:["Are you a Newbie?"," ",e.jsxs("span",{style:{color:"#d22f26",fontWeight:"bold",cursor:"pointer"},onClick:()=>a("/book"),children:[" ","Get Started"," "]})," "]})})]})})};export{k as default};
