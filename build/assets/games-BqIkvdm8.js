var Me=Object.defineProperty;var qe=(e,s,r)=>s in e?Me(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var ve=(e,s,r)=>qe(e,typeof s!="symbol"?s+"":s,r);import{r as o,j as t,R as Q,S as De,u as Ge,t as E,G as $,m as Oe,c as Qe}from"./index-c7sYi7Kz.js";import{c as h,u as v,a as We,b as Ve,B as pe,d as _e,P as Pe}from"./Play30-Ca2U78eH.js";function Ue(e,s){return o.Children.toArray(e).some(r=>o.isValidElement(r)&&r.type===s)}function He({as:e,bsPrefix:s,className:r,...n}){s=v(s,"col");const l=We(),i=Ve(),p=[],u=[];return l.forEach(d=>{const c=n[d];delete n[d];let y,S,x;typeof c=="object"&&c!=null?{span:y,offset:S,order:x}=c:y=c;const _=d!==i?`-${d}`:"";y&&p.push(y===!0?`${s}${_}`:`${s}${_}-${y}`),x!=null&&u.push(`order${_}-${x}`),S!=null&&u.push(`offset${_}-${S}`)}),[{...n,className:h(r,...p,...u)},{as:e,bsPrefix:s,spans:p}]}const je=o.forwardRef((e,s)=>{const[{className:r,...n},{as:l="div",bsPrefix:i,spans:p}]=He(e);return t.jsx(l,{...n,ref:s,className:h(r,!p.length&&i)})});je.displayName="Col";const Je={type:Q.string,tooltip:Q.bool,as:Q.elementType},le=o.forwardRef(({as:e="div",className:s,type:r="valid",tooltip:n=!1,...l},i)=>t.jsx(e,{...l,ref:i,className:h(s,`${r}-${n?"tooltip":"feedback"}`)}));le.displayName="Feedback";le.propTypes=Je;const B=o.createContext({}),ue=o.forwardRef(({id:e,bsPrefix:s,className:r,type:n="checkbox",isValid:l=!1,isInvalid:i=!1,as:p="input",...u},d)=>{const{controlId:c}=o.useContext(B);return s=v(s,"form-check-input"),t.jsx(p,{...u,ref:d,type:n,id:e||c,className:h(r,s,l&&"is-valid",i&&"is-invalid")})});ue.displayName="FormCheckInput";const ae=o.forwardRef(({bsPrefix:e,className:s,htmlFor:r,...n},l)=>{const{controlId:i}=o.useContext(B);return e=v(e,"form-check-label"),t.jsx("label",{...n,ref:l,htmlFor:r||i,className:h(s,e)})});ae.displayName="FormCheckLabel";const ke=o.forwardRef(({id:e,bsPrefix:s,bsSwitchPrefix:r,inline:n=!1,reverse:l=!1,disabled:i=!1,isValid:p=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:c,feedbackType:y,className:S,style:x,title:_="",type:M="checkbox",label:G,children:w,as:Z="input",...K},W)=>{s=v(s,"form-check"),r=v(r,"form-switch");const{controlId:q}=o.useContext(B),b=o.useMemo(()=>({controlId:e||q}),[q,e]),D=!w&&G!=null&&G!==!1||Ue(w,ae),V=t.jsx(ue,{...K,type:M==="switch"?"checkbox":M,ref:W,isValid:p,isInvalid:u,disabled:i,as:Z});return t.jsx(B.Provider,{value:b,children:t.jsx("div",{style:x,className:h(S,D&&s,n&&`${s}-inline`,l&&`${s}-reverse`,M==="switch"&&r),children:w||t.jsxs(t.Fragment,{children:[V,D&&t.jsx(ae,{title:_,children:G}),c&&t.jsx(le,{type:y,tooltip:d,children:c})]})})})});ke.displayName="FormCheck";const ne=Object.assign(ke,{Input:ue,Label:ae}),Se=o.forwardRef(({bsPrefix:e,type:s,size:r,htmlSize:n,id:l,className:i,isValid:p=!1,isInvalid:u=!1,plaintext:d,readOnly:c,as:y="input",...S},x)=>{const{controlId:_}=o.useContext(B);return e=v(e,"form-control"),t.jsx(y,{...S,type:s,size:n,ref:x,readOnly:c,id:l||_,className:h(i,d?`${e}-plaintext`:e,r&&`${e}-${r}`,s==="color"&&`${e}-color`,p&&"is-valid",u&&"is-invalid")})});Se.displayName="FormControl";const Ye=Object.assign(Se,{Feedback:le}),be=o.forwardRef(({className:e,bsPrefix:s,as:r="div",...n},l)=>(s=v(s,"form-floating"),t.jsx(r,{ref:l,className:h(e,s),...n})));be.displayName="FormFloating";const de=o.forwardRef(({controlId:e,as:s="div",...r},n)=>{const l=o.useMemo(()=>({controlId:e}),[e]);return t.jsx(B.Provider,{value:l,children:t.jsx(s,{...r,ref:n})})});de.displayName="FormGroup";const Ce=o.forwardRef(({as:e="label",bsPrefix:s,column:r=!1,visuallyHidden:n=!1,className:l,htmlFor:i,...p},u)=>{const{controlId:d}=o.useContext(B);s=v(s,"form-label");let c="col-form-label";typeof r=="string"&&(c=`${c} ${c}-${r}`);const y=h(l,s,n&&"visually-hidden",r&&c);return i=i||d,r?t.jsx(je,{ref:u,as:"label",className:y,htmlFor:i,...p}):t.jsx(e,{ref:u,className:y,htmlFor:i,...p})});Ce.displayName="FormLabel";const Fe=o.forwardRef(({bsPrefix:e,className:s,id:r,...n},l)=>{const{controlId:i}=o.useContext(B);return e=v(e,"form-range"),t.jsx("input",{...n,type:"range",ref:l,className:h(s,e),id:r||i})});Fe.displayName="FormRange";const Ne=o.forwardRef(({bsPrefix:e,size:s,htmlSize:r,className:n,isValid:l=!1,isInvalid:i=!1,id:p,...u},d)=>{const{controlId:c}=o.useContext(B);return e=v(e,"form-select"),t.jsx("select",{...u,size:r,ref:d,className:h(n,e,s&&`${e}-${s}`,l&&"is-valid",i&&"is-invalid"),id:p||c})});Ne.displayName="FormSelect";const Ee=o.forwardRef(({bsPrefix:e,className:s,as:r="small",muted:n,...l},i)=>(e=v(e,"form-text"),t.jsx(r,{...l,ref:i,className:h(s,e,n&&"text-muted")})));Ee.displayName="FormText";const Te=o.forwardRef((e,s)=>t.jsx(ne,{...e,ref:s,type:"switch"}));Te.displayName="Switch";const Ze=Object.assign(Te,{Input:ne.Input,Label:ne.Label}),Re=o.forwardRef(({bsPrefix:e,className:s,children:r,controlId:n,label:l,...i},p)=>(e=v(e,"form-floating"),t.jsxs(de,{ref:p,className:h(s,e),controlId:n,...i,children:[r,t.jsx("label",{htmlFor:n,children:l})]})));Re.displayName="FloatingLabel";const Ke={_ref:Q.any,validated:Q.bool,as:Q.elementType},me=o.forwardRef(({className:e,validated:s,as:r="form",...n},l)=>t.jsx(r,{...n,ref:l,className:h(e,s&&"was-validated")}));me.displayName="Form";me.propTypes=Ke;const Xe=Object.assign(me,{Group:de,Control:Ye,Floating:be,Check:ne,Switch:Ze,Label:Ce,Text:Ee,Range:Fe,Select:Ne,FloatingLabel:Re});class et extends De.Component{constructor(){super(...arguments);ve(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0}}render(){return this.state.hasError?t.jsxs("div",{className:"text-center text-dark p-4",children:[t.jsx("h2",{children:"Something went wrong!"}),t.jsx("p",{children:"Please refresh the page or try again later."}),t.jsx(pe,{variant:"primary",onClick:()=>window.location.reload(),children:"Refresh"})]}):this.props.children}}const I=[{question:"Heart",options:["Love","Fear"],correct:"Love"},{question:"Mind",options:["Ego","Clarity"],correct:"Clarity"},{question:"Body",options:["Joy","Desire"],correct:"Joy"},{question:"Soul",options:["Will","Peace"],correct:"Peace"}],tt=["Try again. Fear closes — love opens.","Try again. Ego defends — clarity understands.","Try again. Desire grasps — joy flows.","Try again. Will strives — peace receives."],we=["Excellent!","Wonderful!","Fantastic!","Great!"],at=()=>{var he,xe;const[e,s]=o.useState(0),[r,n]=o.useState([]),[l,i]=o.useState(!1),[p,u]=o.useState(!1),[d,c]=o.useState(!1),[y,S]=o.useState(""),[x,_]=o.useState(0),[M,G]=o.useState(0),[w,Z]=o.useState(""),[K,W]=o.useState(!1),[q,b]=o.useState(""),[D,V]=o.useState(null),[A,X]=o.useState(!1),[C,ie]=o.useState(30),[ee,te]=o.useState(!1),[P,fe]=o.useState(!1),[j,se]=o.useState(!1),[z,oe]=o.useState(!1),U=o.useRef(null),L=o.useRef(null),g=o.useRef(null),T=o.useRef(null),$e=Ge(),m={type:"monthly",price:4,index:0},F=r.length===I.length,ce=o.useRef(null),ye=/^[\w+.-]+@[\w.-]+\.[a-zA-Z]{2,5}$/.test(w);o.useEffect(()=>{(w||P)&&b("")},[w,P]),o.useEffect(()=>(L.current=new Audio("/sounds/tick.mp3"),L.current.loop=!0,L.current.volume=.5,()=>{L.current&&(L.current.pause(),L.current=null)}),[]),o.useEffect(()=>(g.current=new Audio("/game.mp3"),g.current.loop=!0,g.current.volume=.3,()=>{g.current&&(g.current.pause(),g.current=null)}),[]),o.useEffect(()=>(T.current=new Audio("/victory.mp3"),T.current.volume=.5,()=>{T.current&&(T.current.pause(),T.current=null)}),[]),o.useEffect(()=>{A&&ee&&C>0&&!F&&!j?L.current.play().catch(a=>{console.error("Ticking audio playback failed:",a)}):L.current.pause()},[A,ee,C,F,j]),o.useEffect(()=>{A&&!F&&!j?g.current.play().catch(a=>{console.error("Background music playback failed:",a)}):g.current.pause()},[A,F,j]),o.useEffect(()=>{let a;return ee&&C>0&&!F&&!j&&(a=setInterval(()=>{ie(f=>f<=1?(clearInterval(a),te(!1),X(!1),se(!0),setTimeout(()=>{se(!1),Ae()},4e3),0):f-1)},1e3)),()=>clearInterval(a)},[ee,C,F,j]),o.useEffect(()=>{if(x===M)return;const a=Math.ceil((x-M)/10),f=setInterval(()=>{G(R=>{const O=R+a;return O>=x?(clearInterval(f),x):O})},50);return()=>clearInterval(f)},[x,M]),o.useEffect(()=>{if(F&&U.current){const a=_e.create(U.current,{resize:!0,useWorker:!0}),R=Date.now()+5e3,O=["#FFcc00","#996600","#1E90FF"],Y=()=>{a({particleCount:5,angle:60,spread:55,origin:{x:0,y:.6},colors:O}),a({particleCount:5,angle:120,spread:55,origin:{x:1,y:.6},colors:O}),Date.now()<R&&requestAnimationFrame(Y)};Y(),te(!1),X(!1),T.current.play().catch(N=>{console.error("Victory music playback failed:",N)}),g.current.pause()}},[F]);const Ie=a=>{const f=Math.floor(a/60),R=a%60;return`${f.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`},re=async a=>{if(!A||C<=0||!I[e]||j)return;const f=I[e],R=a===f.correct;V(a),navigator.vibrate&&navigator.vibrate(100);const Y=(N=>N.toLowerCase().replace(/[^a-z0-9]/gi,"_")+"_Clicked")(a);if(E(Y,{event_category:"Quiz Option",event_label:`Question ${e+1}: ${a}`,question:f.question,selected_option:a,correct_answer:f.correct,is_correct:R,question_index:e+1}),$.pushEvent(Y,{event_category:"Quiz Option",event_label:`Question ${e+1}: ${a}`,question:f.question,selected_option:a,correct_answer:f.correct,is_correct:R,question_index:e+1}),R){n([...r,f]),_(k=>k+100);const N=we[Math.floor(Math.random()*we.length)];if(S(N),c(!0),setTimeout(()=>c(!1),2500),U.current){const k=_e.create(U.current,{resize:!0,useWorker:!0}),ze=Date.now()+2e3,Le=["#FFcc00","#996600","#1E90FF"],ge=()=>{k({particleCount:5,spread:70,origin:{x:.5,y:.5},colors:Le}),Date.now()<ze&&requestAnimationFrame(ge)};ge()}if(e===I.length-1&&a==="Peace"){g.current.pause(),T.current.play().catch(k=>{console.error("Victory music playback failed:",k)}),oe(!0);try{await Oe(w,m.type),oe(!1),W(!0),setTimeout(()=>W(!1),5e3),$e("/payment-success"),E("Payment_Success",{popup_type:"flipbook",selectedBox_type:m.type}),$.pushEvent("Payment_Success",{popup_type:"flipbook",selectedBox_type:m.type})}catch(k){oe(!1),b("Failed to process payment. Please try again."),E("Payment_Error",{popup_type:"flipbook",error:k.message||"Payment failed",selectedBox_type:m.type}),$.pushEvent("Payment_Error",{popup_type:"flipbook",error:k.message||"Payment failed",selectedBox_type:m.type})}}else{const k=e+1;k<I.length&&s(k)}}else i(!0),u(!0),setTimeout(()=>{i(!1),u(!1)},2e3);setTimeout(()=>{V(null),document.querySelectorAll(".option-button").forEach(N=>{N.classList.remove("clicked"),N.style.backgroundColor="white",N.style.color="#0073E6",N.style.boxShadow="none"})},1e3)},Be=async()=>{if(!w){b("Please enter an email address"),E("Popup_Form_Error",{popup_type:"flipbook",error:"missing_email",selectedBox_type:m.type}),$.pushEvent("Popup_Form_Error",{popup_type:"flipbook",error:"missing_email",selectedBox_type:m.type});return}if(!ye){b("Please enter a valid email"),E("Popup_Form_Error",{popup_type:"flipbook",error:"invalid_email",selectedBox_type:m.type}),$.pushEvent("Popup_Form_Error",{popup_type:"flipbook",error:"invalid_email",selectedBox_type:m.type});return}if(!P){b("Please accept the terms by checking the box"),E("Popup_Form_Error",{popup_type:"flipbook",error:"terms_not_accepted",selectedBox_type:m.type}),$.pushEvent("Popup_Form_Error",{popup_type:"flipbook",error:"terms_not_accepted",selectedBox_type:m.type});return}b("");const a=await Qe(w);if(!(a!=null&&a.success)){b((a==null?void 0:a.message)||"Something went wrong"),E("game_level-1_email_Error",{popup_type:"flipbook",error:(a==null?void 0:a.message)||"Something went wrong",selectedBox_type:m.type}),$.pushEvent("game_level-1_email_Error",{popup_type:"flipbook",error:(a==null?void 0:a.message)||"Something went wrong",selectedBox_type:m.type});return}E("game_level-1_email_submit",{popup_type:"flipbook",user_found:!0,selectedBox_type:m.type}),$.pushEvent("game_level-1_email_submit",{popup_type:"flipbook",user_found:!0,selectedBox_type:m.type}),X(!0),setTimeout(()=>{ce.current&&(ce.current.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{window.scrollBy({top:-100,behavior:"smooth"})},400))},300),te(!0),ie(30),se(!1),E("Play_Now_Clicked",{event_category:"Quiz Interaction",event_label:"Game Started"})},Ae=()=>{s(0),n([]),Z(""),W(!1),b(""),_(0),G(0),V(null),X(!1),te(!1),ie(30),se(!1),c(!1),u(!1),i(!1),S(""),fe(!1),oe(!1),g.current&&g.current.pause(),T.current&&T.current.pause(),E("Play_Again_Clicked",{event_category:"Quiz Interaction",event_label:"Game Reset"}),$.pushEvent("Play_Again_Clicked",{event_category:"Quiz Interaction",event_label:"Game Reset"})},H=(he=I[e])==null?void 0:he.options[0],J=(xe=I[e])==null?void 0:xe.options[1];return t.jsx(et,{children:t.jsxs("div",{className:"mt-60",ref:ce,children:[t.jsx("canvas",{ref:U,className:"confetti-canvas"}),t.jsx("div",{className:"gaming-border",children:t.jsxs("div",{className:"purple-card",children:[t.jsx("img",{src:Pe,style:{width:"30%",height:"30%",position:"absolute",left:"-7%",top:"-10%"}}),j?t.jsx("div",{className:"fade-in text-center text-white",style:{fontSize:"20px",fontFamily:"'Aboreto', sans-serif",padding:"40px"},children:"Oops, Time’s Up! Try Once More."}):z?t.jsx("div",{className:"achievement-effect bounce text-center",style:{fontSize:"30px",fontFamily:"'Aboreto', sans-serif",padding:"40px"},children:"Congrats"}):!F&&C>0?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"text-center mb-4",children:t.jsxs("div",{className:"animate-top",children:[t.jsxs("h2",{style:{fontSize:"1rem",color:"white",fontFamily:"'Aboreto', sans-serif",marginTop:"28px"},children:["Question ",e+1," of ",I.length]}),r.length===0&&t.jsx("h2",{className:"zoom-out-text",style:{fontFamily:"Montserrat-Regular",fontSize:"14px",marginTop:"60px",color:"white",textAlign:"center"},children:"Does Your Heart Choose Love or Fear?"}),t.jsx("div",{className:"mt-2 text-white",style:{padding:"40px",fontSize:"3rem",fontFamily:"'Aboreto', sans-serif",fontWeight:"600"},children:I[e].question}),t.jsx("div",{className:"header-section d-flex align-items-center mb-4",style:{fontFamily:"'Aboreto', sans-serif",justifyContent:"center",fontSize:"24px"},children:t.jsx("div",{className:"d-flex text-white",style:{justifyContent:"center",fontSize:"26px"},children:Ie(C)})})]})},e),d&&t.jsx("div",{className:"achievement-effect bounce",style:{fontFamily:"'Aboreto', sans-serif",fontSize:"30px"},children:y}),t.jsxs("div",{className:"options-container",style:{display:"flex",justifyContent:"center",gap:"20px",marginBottom:"20px",marginTop:"10px"},children:[t.jsx(pe,{variant:"lighting",className:`option-button ${l?"shake":""} ${D===H?"clicked":""}`,onClick:()=>re(H),onTouchStart:()=>re(H),disabled:!A||C<=0||j||z,style:{fontWeight:"600",width:"45%",padding:"40px",fontSize:"30px",borderRadius:"8px",display:"flex",border:"4px solid #ffcc00"},"aria-pressed":D===H,children:H}),t.jsx(pe,{variant:"lighting",id:"option2",className:`option-button ${l?"shake":""} ${D===J?"clicked":""}`,onClick:()=>re(J),onTouchStart:()=>re(J),disabled:!A||C<=0||j||z,style:{fontWeight:"600",width:"45%",padding:"40px",fontSize:"30px",borderRadius:"8px",display:"flex",border:"4px solid #ffcc00"},"aria-pressed":D===J,children:J})]}),A&&!j&&C>0&&!F&&t.jsx("div",{className:"fade-in",style:{color:"white",fontSize:"16px",textAlign:"center"},children:p?tt[e]||"Try again!":e===0?"Game On! Choose Love or Fear?":""})]}):t.jsxs("div",{className:"fade-in",children:[K&&t.jsx("div",{className:"text-center text-white",style:{fontSize:"20px",fontFamily:"'Aboreto', sans-serif",padding:"40px"},children:"Payment processed successfully!"}),q&&t.jsx("div",{className:"text-center",style:{color:"red",fontSize:"16px",marginBottom:"10px"},children:q})]})]})}),t.jsx("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginTop:"14px",marginBottom:"14px",color:"#c7c7c7",textAlign:"left",marginLeft:"12px"},children:"No spam. No follow-ups. No sharing."}),t.jsx(Xe.Control,{type:"email",placeholder:"Enter your email to begin",value:w,onChange:a=>Z(a.target.value),disabled:z}),t.jsxs("div",{className:"d-flex align-items-center mb-3 mt-30",style:{justifyContent:"flex-start",marginTop:"10px"},children:[t.jsx("input",{className:"form-check-input me-2",type:"checkbox",name:"remember",checked:P,onChange:a=>fe(a.target.checked),disabled:z}),t.jsxs("small",{className:"textBlack",style:{textAlign:"left"},children:["I accept"," ",t.jsx("a",{href:"/privacy-policy",style:{textDecoration:"underline",color:"blue"},className:"link",children:"cookies"}),","," ",t.jsx("a",{href:"/terms",style:{textDecoration:"underline",color:"blue"},className:"link",children:"terms"})," &"," ",t.jsx("a",{href:"/disclaimer",style:{textDecoration:"underline",color:"blue"},children:"disclaimer"}),"."]})]}),q&&t.jsx("div",{className:"text-left",style:{color:"red",fontSize:"14px",marginBottom:"10px"},children:q}),t.jsx("div",{children:t.jsx("button",{className:"w-100 mb-3",onClick:Be,disabled:z,style:{fontSize:"18px",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",marginTop:"10px",marginBottom:"16px",backgroundColor:"#d22f26",cursor:ye&&P&&!z?"pointer":"not-allowed",boxShadow:"rgba(75, 76, 78, 0.3) 0px 6px 24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:t.jsx("span",{style:{flexGrow:1,textAlign:"center"},children:z?"Processing...":"Start Free — Unlock Instantly"})})}),K&&t.jsx("div",{className:"text-center text-white",style:{fontSize:"20px",fontFamily:"'Aboreto', sans-serif",marginBottom:"10px"},children:"Payment processed successfully!"})]})})};export{at as default};
