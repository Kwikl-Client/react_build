import{r as l,d as E,j as e,aQ as k}from"./index-c7sYi7Kz.js";const N=()=>{const[i,f]=l.useState(!1),[n,C]=l.useState(""),[o,m]=l.useState(""),[I,x]=l.useState(!1),[Z,y]=l.useState(!1),[u,g]=l.useState(!1),[j,s]=l.useState(null),[a,B]=l.useState(!1),h=l.useRef(null),A=l.useRef(null),c=150,{user:d}=E(t=>t.auth),v=(d==null?void 0:d.email)||"",p=(d==null?void 0:d.whoAmI)||{name:"Who Am I?",identity:"What's My Purpose?"};l.useEffect(()=>{i&&h.current&&h.current.focus()},[i]),l.useEffect(()=>{p&&(C(p.name||"Who Am I?"),m(p.identity||"What's My Purpose?"))},[p]),l.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const S=()=>{f(!0),y(!1),x(!1),s(null)},M=t=>{const r=t.target.value.slice(0,c);C(r),x(r.trim().length>0||o.trim().length>0),s(null)},P=t=>{const r=t.target.value.slice(0,c);m(r),x(n.trim().length>0||r.trim().length>0),s(null)},R=async()=>{if(console.log("Submitting API request..."),s(null),!v){s("User email not found. Please log in.");return}if(!n.trim()||!o.trim()){s("Both fields must be filled.");return}g(!0);try{await k(v,n,o),y(!0),f(!1)}catch(t){s(t.message||"Failed to update tagline. Please try again.")}finally{g(!1)}},b=t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),R())},w=()=>{B(!a)};return e.jsxs("section",{className:"mid-section",children:[e.jsx("h4",{style:{fontFamily:"Cinzel",fontSize:"26px",marginBottom:"30px",color:"#c7c7c7",textAlign:"left"},children:"UPDATE YOUR STAR PIECE"}),e.jsx("h4",{style:{fontFamily:"Montserrat-SemiBold",fontSize:"18px",marginBottom:"8px",color:"#c7c7c7",textAlign:"left"},children:"Is there something you’ve been holding back — even from yourself?"}),e.jsxs("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"30px",color:"#c7c7c7",textAlign:"left"},children:["This is the moment to say it.",e.jsx("br",{}),e.jsx("br",{}),"Your ",e.jsx("b",{children:"Star Piece"})," is simple, but powerful.",e.jsx("br",{}),"It’s the truth of who you are — and what you’re here for.",e.jsx("br",{}),"Not a mask. Not a label. Just you, in your own words."]}),j&&e.jsx("div",{style:{color:"red",textAlign:"center",marginBottom:"10px",fontFamily:"Montserrat, sans-serif"},children:j}),u&&e.jsx("div",{style:{textAlign:"center",marginBottom:"10px",fontFamily:"Montserrat, sans-serif",color:"#c7c7c7"},children:"Loading..."}),e.jsxs("div",{className:"relative w-full max-w-2xl",children:[e.jsx("div",{className:"profile-tagline flex justify-center",children:e.jsxs("svg",{viewBox:"0 0 360 163",preserveAspectRatio:"xMidYMid meet",className:"w-full h-auto max-h-[80vh]",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.8633 26.1469C45.9193 50.2634 5.9621 33.4546 1.9698 92.6536C-2.03106 151.853 -6.02336 149.582 55.9086 158.355C117.841 167.128 167.779 166.468 193.746 159.889C219.713 153.309 207.727 154.774 261.666 159.889C289.852 162.562 328.156 158.741 342.652 155.656C362.896 151.356 361.405 137.708 357.91 129.244C356.162 125.012 339.55 120.651 341.144 116.033C349.094 93.0391 337.991 67.7575 330.58 64.1421C318.595 58.2994 277.644 61.949 263.662 48.7984C256.731 42.2788 242.347 36.3246 235.639 30.8674C220.758 18.7534 218.873 22.0689 177.048 19.3531C141.126 17.0143 104.879 13.853 83.8719 26.1469H83.8633Z",fill:"#1E1F1C",fillOpacity:"0.8"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M83.8026 9.61982C45.8861 35.4543 5.95778 17.4492 1.96838 80.8666C-2.02959 144.293 -6.019 138.809 55.8682 148.203C117.755 157.597 167.657 159.951 193.605 152.904C219.554 145.857 207.577 147.421 261.477 152.904C289.642 155.766 327.918 151.667 342.403 148.366C372.761 141.448 348.584 127.413 353.37 112.571C361.323 87.9312 337.746 54.1985 330.341 50.3225C318.364 44.0572 277.443 47.9762 263.471 33.8816C256.546 26.903 242.172 20.5174 235.469 14.6647C220.598 1.68728 218.715 5.23673 176.92 2.32326C141.015 -0.169093 104.794 -3.55525 83.8026 9.61982Z",fill:"#1E1F1C"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M195.502 159.435C215.189 154.269 211.702 154.414 245.431 158.261L244.001 147.8C214.264 146.121 215.463 145.761 200.839 147.775C198.895 151.407 196.881 156.856 195.502 159.435Z",fill:"#737373"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5592 155.511C41.5757 156.153 42.5096 156.256 52.8758 157.927C64.2444 159.76 96.1914 164.883 95.4803 159.606L98.0333 153.215C84.7799 152.512 71.7407 148.195 56.9538 147.072C50.16 146.558 44.1716 146.13 38.8771 145.736C35.7501 149.42 36.7781 152.881 34.5507 155.511H34.5592Z",fill:"#737373"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M310.226 163.145C322.433 161.029 336.251 157.686 342.26 156.175C360.163 151.688 358.51 145.151 354.918 141.217C354.694 143.275 351.438 145.41 341.197 147.979C334.744 149.597 323.039 151.99 309.691 154.242C311.116 157.16 309.121 160.893 310.217 163.14L310.226 163.145Z",fill:"#737373"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M187.749 148.906C161.782 155.931 125.825 154.371 63.8932 145.008C46.4933 142.377 27.6113 139.096 19.5496 134.127C-1.08014 121.414 5.38807 112.984 6.96443 88.0275C7.94965 72.461 4.42855 47.0937 33.9339 29.531C16.7738 35.9992 4.12013 46.4683 1.96977 80.6083C0.676131 101.092 -0.617511 114.371 0.324877 123.273C1.98691 138.831 10.4941 141.05 37.8233 145.076C43.1093 145.856 49.1063 146.704 55.9001 147.732C70.687 149.968 84.78 151.801 98.0419 153.206C140.304 157.678 173.973 157.764 193.737 152.418C196.487 151.673 198.817 151.022 200.839 150.465C215.463 146.438 214.273 147.158 244.001 150.525C248.952 151.09 254.77 151.716 261.649 152.418C276.042 153.875 293.082 153.523 308.229 152.392C322.75 151.304 335.541 149.505 342.634 147.895C349.214 146.404 353.232 144.579 355.537 142.48C354.628 142.729 353.652 142.977 352.615 143.208C338.119 146.498 313.052 154.586 257.151 148.409C203.538 142.489 213.707 141.872 187.732 148.897L187.749 148.906Z",fill:"#EBEBEB"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.3887 52.9365C38.9199 57.8883 56.8167 56.509 49.7231 52.4996C46.6903 50.7862 40.2735 50.2636 38.3887 52.9365Z",fill:"#B9B6B9"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.8918 52.1225C38.4316 57.0744 56.3198 55.695 49.2262 51.6856C46.1934 49.9722 39.7766 49.4496 37.8918 52.1225Z",fill:"#6A666A"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.8319 41.525C42.0641 50.1864 65.9579 47.779 53.2699 40.7625C47.8469 37.764 38.5601 36.8473 37.8319 41.525Z",fill:"#B9B6B9"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.3273 41.148C45.5594 49.8094 69.4533 47.402 56.7653 40.3856C51.3509 37.3871 42.0555 36.4704 41.3273 41.148Z",fill:"#6A666A"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M192.255 135.96C203.178 138.702 210.726 132.414 197.969 132.234C192.512 132.157 187.629 133.81 192.255 135.96Z",fill:"#B9B6B9"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M190.233 135.635C201.148 138.377 208.704 132.088 195.947 131.908C190.49 131.831 185.607 133.485 190.233 135.635Z",fill:"#6A666A"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M167.727 145.342C189.436 147.74 194.645 138.325 172.893 139.602C163.598 140.15 157.344 142.986 167.727 145.342Z",fill:"#B9B6B9"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M168.438 143.954C190.147 146.353 195.348 136.929 173.604 138.214C164.3 138.762 158.055 141.598 168.438 143.954Z",fill:"#6A666A"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M232.709 140.681C239.254 145.059 253.287 140.801 242.133 138.377C237.361 137.34 231.081 137.948 232.709 140.681Z",fill:"#B9B6B9"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M231.287 140.03C237.832 144.408 251.865 140.15 240.702 137.725C235.939 136.689 229.659 137.297 231.287 140.03Z",fill:"#6A666A"}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.45811 131.942C2.45811 131.557 3.24629 131.249 4.22295 131.249C5.1996 131.249 5.99635 131.557 5.99635 131.942C5.99635 134.581 7.03298 136.577 13.0557 138.616C19.4382 140.775 31.2609 143.028 52.7731 146.13L55.9943 146.592C98.4189 152.692 147.38 159.743 181.315 153.951C194.088 151.775 200.36 150.028 204.583 148.854C212.628 146.618 213.921 146.258 233.437 148.46C248.079 150.113 263.971 151.81 279.666 152.538C295.198 153.258 310.508 153.018 324.172 150.833C325.072 150.687 326.1 150.859 326.468 151.21C326.837 151.561 326.408 151.964 325.509 152.11C311.201 154.406 295.301 154.654 279.246 153.917C263.354 153.18 247.282 151.458 232.461 149.796C214.572 147.783 213.476 148.092 206.614 149.993C202.27 151.201 195.819 152.992 182.703 155.228C147.466 161.242 97.7935 154.089 54.7606 147.903L51.5394 147.44C29.6074 144.288 17.4592 141.957 10.734 139.679C3.65752 137.28 2.44098 134.984 2.44098 131.96L2.45811 131.942Z",fill:"#575458"}),i?e.jsx("foreignObject",{x:"30",y:"30",width:"300",height:"100",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",alignItems:"center"},children:[e.jsx("input",{ref:h,value:n,onChange:M,onKeyPress:b,maxLength:c,style:{fontSize:"20px",fontFamily:"TrajanPro-Bold",padding:"14px",background:"black",color:"gray",border:"none",borderBottom:"1px solid white",width:"140px",height:"20px",cursor:"text"},placeholder:"Who Am I?"}),e.jsx("h5",{style:{fontSize:"14px",fontFamily:"TrajanPro-Bold",color:"gray",marginTop:"4px"},children:"Named by truth, driven by purpose."}),e.jsx("input",{ref:A,value:o,onChange:P,onKeyPress:b,maxLength:c,style:{fontSize:"20px",fontFamily:"TrajanPro-Bold",padding:"14px",background:"black",color:"gray",border:"none",borderBottom:"1px solid white",width:"210px",height:"20px",cursor:"text"},placeholder:"What's My Purpose?"})]})}):e.jsxs("foreignObject",{x:"30",y:"30",width:"300",height:"100",children:[e.jsx("div",{style:{fontSize:"24px",fontFamily:"TrajanPro-Bold",color:"gray",textAlign:"center",padding:"5px"},children:n||"Who Am I?"}),e.jsx("div",{style:{fontSize:"24px",fontFamily:"TrajanPro-Bold",color:"gray",textAlign:"center",padding:"5px"},children:o||"What's My Purpose?"})]})]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column"},children:e.jsxs("a",{onClick:w,style:{fontSize:"18px",color:"blue",textDecoration:"underline",cursor:"pointer"},children:["Need inspiration? Real examples",e.jsx("span",{style:{marginLeft:"2%",fontSize:"16px"},children:"ⓘ"})]})}),a&&e.jsx("div",{style:{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",width:"80%",maxWidth:"500px",textAlign:"left"},children:[e.jsx("h4",{style:{marginBottom:"20px"},children:"Real examples to inspire you"}),e.jsxs("div",{style:{display:"flex",gap:"20px",flexDirection:"column",justifyContent:"left"},children:[e.jsxs("div",{style:{border:"1px solid #ccc",padding:"15px",borderRadius:"8px",width:"100%"},children:[e.jsx("p",{children:"Name: Awmir Vale"}),e.jsx("p",{children:"Purpose: Living with kindness and presence."})]}),e.jsxs("div",{style:{border:"1px solid #ccc",padding:"15px",borderRadius:"8px",width:"100%"},children:[e.jsx("p",{children:"Name: Samy"}),e.jsx("p",{children:"Purpose: Awakening peace from the inside out."})]}),e.jsxs("div",{style:{border:"1px solid #ccc",padding:"15px",borderRadius:"8px",width:"100%"},children:[e.jsx("p",{children:"Name: Elion"}),e.jsx("p",{children:"Purpose: To live gently, love deeply, and lead with compassion."})]})]}),e.jsx("button",{onClick:w,style:{marginTop:"20px",backgroundColor:"#d22f26",color:"white",padding:"10px",borderRadius:"5px"},children:"Close"})]})}),e.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:"20px"},children:e.jsx("button",{className:"w-100 mb-30",onClick:i?R:S,disabled:u||i&&(!n.trim()||!o.trim()),style:{cursor:u||i&&(!n.trim()||!o.trim())?"not-allowed":"pointer",backgroundColor:"#d22f26",color:"white",padding:"10px 20px",borderRadius:"5px",fontSize:"16px",marginBottom:"20%"},children:i?"Save Changes":"Edit your Star Piece"})})]})]})};export{N as default};
