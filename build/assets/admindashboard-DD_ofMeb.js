import{r as i,j as e,aS as h}from"./index-4wfhNZTH.js";const j=()=>{const[t,o]=i.useState([]),[c,d]=i.useState(!0),[l,a]=i.useState(null);return i.useEffect(()=>{(async()=>{try{console.log("Fetching applications...");const r=await h();console.log("API Response:",r);const n=r.data||r;if(Array.isArray(n))o(n);else throw new Error("Invalid data format received from API")}catch(r){console.error("Error fetching applications:",r),a("Failed to fetch applications: "+(r.message||"Unknown error"))}finally{d(!1)}})()},[]),c?e.jsx("div",{className:"text-center py-4 text-gray-600",children:"Loading..."}):l?e.jsx("div",{className:"text-center py-4 text-red-600",children:l}):e.jsx("section",{className:"mid-section",style:{marginBottom:"30%"},children:e.jsxs("div",{className:"container mx-auto py-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Application List"}),t.length===0?e.jsx("p",{className:"text-center text-gray-600",children:"No applications found."}):e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg shadow-md",children:[e.jsx("button",{className:"w-full text-left p-4 bg-gray-100 hover:bg-gray-200 focus:outline-none focus:bg-gray-200 transition duration-300",onClick:()=>o(r=>r.map(n=>n._id===s._id?{...n,isOpen:!n.isOpen}:n)),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"font-semibold",children:s.fullName}),e.jsx("div",{className:"ml-auto mr-4",children:s.isOpen?"close":"View Details"})," "]})}),s.isOpen&&e.jsx("div",{className:"p-4 bg-white",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Username:"})," ",s.username||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",s.email||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",s.phone||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"DOB:"})," ",s.dob||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Country:"})," ",s.country||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Languages:"})," ",s.languages||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID Type:"})," ",s.idType||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ID Number:"})," ",s.idNumber||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ID File:"}),s.idFile?e.jsx("a",{href:`/uploads/${s.idFile.split("/").pop()}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline ml-2",children:"Download ID"}):"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address Proof:"}),s.addressProof?e.jsx("a",{href:`/uploads/${s.addressProof.split("/").pop()}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline ml-2",children:"Download Address Proof"}):"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Proof:"}),s.accountProof?e.jsx("a",{href:`/uploads/${s.accountProof.split("/").pop()}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline ml-2",children:"Download Account Proof"}):"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment Method:"})," ",s.paymentMethod||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Holder:"})," ",s.accountHolder||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Bank Name:"})," ",s.bankName||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," ",s.accountNumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Routing Number:"})," ",s.routingNumber||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Availability:"})," ",s.availability||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Why Host:"})," ",s.whyHost||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Strengths:"})," ",s.strengths||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Communication:"})," ",s.communication||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Understand Not Therapy:"})," ",s.understandNotTherapy?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Training Consent:"})," ",s.trainingConsent?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Agree To Terms:"})," ",s.agreeToTerms?"Yes":"No"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Signature:"})," ",s.signature||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sign Date:"})," ",s.signDate||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Created At:"})," ",new Date(s.createdAt).toLocaleString("en-IN",{timeZone:"Asia/Kolkata"})||"N/A"]})]})]})})]},s._id))})]})})};export{j as default};
