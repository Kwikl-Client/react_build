var ye=Object.defineProperty;var je=(i,t,y)=>t in i?ye(i,t,{enumerable:!0,configurable:!0,writable:!0,value:y}):i[t]=y;var oe=(i,t,y)=>je(i,typeof t!="symbol"?t+"":t,y);import{R as re,j as e,r as n,a as U,b as le,c as ae,ad as we,ae as ce,ac as ve,u as de,C as be,af as Se,t as ne,K as V,ag as Ne,ah as ke,ai as Me,aj as Fe,ak as Te}from"./index-4wfhNZTH.js";import{R as he}from"./index-DDF3R9bu.js";import{B as _,d as ie,P as Be}from"./Play30-DRdydPlB.js";class Ie extends re.Component{constructor(){super(...arguments);oe(this,"state",{hasError:!1})}static getDerivedStateFromError(y){return{hasError:!0}}render(){return this.state.hasError?e.jsxs("div",{className:"text-center text-dark p-4",children:[e.jsx("h2",{children:"Something went wrong!"}),e.jsx("h4",{children:"Please refresh the page to try again."}),e.jsx(_,{variant:"primary",onClick:()=>window.location.reload(),children:"Home"})]}):this.props.children}}const Ae=({onGameComplete:i})=>{const[t,y]=n.useState(0),[h,z]=n.useState([]),[b,u]=n.useState(!1),[E,j]=n.useState(!1),[S,C]=n.useState(!1),[T,B]=n.useState(""),[N,w]=n.useState(""),[f,I]=n.useState(!1),[A,P]=n.useState(0),[M,H]=n.useState(0),[o,L]=n.useState([]),[x,Z]=n.useState(!1),[W,R]=n.useState(""),[J,q]=n.useState([]),[F,s]=n.useState(null),r=n.useRef(null),m=U(),v=le(),{user:p,token:Y}=ae(a=>a.auth),l=!!p,g=p==null?void 0:p.customerType,G=p==null?void 0:p.email,D=[{question:`Heart ➝ ${l&&(g==="reader"||g==="member"||g==="admin")?"Love":"XXXX "} ➝ ?`,options:["Compassion","Curiosity","Creativity","Freedom"],correct:"Compassion",correctMessage:"Excellent",praise:"Love unfolds through Compassion.",incorrectMessage:"Try again! Love unfolds through Compassion."},{question:"Mind ➝ Clarity ➝ ? ",options:["Compassion","Curiosity","Creativity","Power"],correct:"Curiosity",correctMessage:"Brilliant",praise:"Clarity deepens through Curiosity.",incorrectMessage:"Try again! Clarity comes with Patience."},{question:"Body ➝ Joy ➝ ?",options:["Compassion","Curiosity","Creativity","Freedom"],correct:"Creativity",correctMessage:"Fantastic",praise:"Joy shines brightest with Creativity.",incorrectMessage:"Try again! Joy shines brightest with Trust."},{question:"Soul ➝ Peace ➞ ? ",options:["Compassion","Curiosity","Freedom","Creativity"],correct:"Freedom",correctMessage:"Great",praise:"Peace leads to Freedom.",incorrectMessage:"Please try again."}],$=h.length===D.length,xe=a=>{const c=a.slice();for(let d=c.length-1;d>0;d--){const k=Math.floor(Math.random()*(d+1));[c[d],c[k]]=[c[k],c[d]]}return c},X=["Excellent!","Joyous!","Great Job!","Awesome!"],pe=()=>{console.log("Join clicked, isLoggedIn:",l,"userType:",g),l?["reader","member","participant","star","admin"].includes(g)?(console.log("Enabling game for userType:",g),Z(!0)):(console.log("User type not allowed to enable game:",g),R("Your account type does not have access to this game.")):(console.log("Navigating to login page"),m("/"))},ge=async()=>{if(console.log("handleConversationStart called, win:",$,"isLoggedIn:",l,"email:",G),!$){R("Please complete the game to proceed.");return}if(!l||!G){R("Please log in to proceed."),m("/");return}try{const a=await we(G);if(console.log("getLevel1 response:",a),a.success){const c=localStorage.getItem("userToken");if(c){const d=await ce(c);console.log("Refreshed user:",d),localStorage.setItem("user",JSON.stringify(d)),v(ve(d.data))}console.log("Calling onGameComplete with true"),i(!0)}else R(a.message||"Server error: Unable to update customer type."),i(!0)}catch(a){console.error("API call error:",a.message),R(a.message||"Network error: Please try again later."),i(!0)}};n.useEffect(()=>{const a=D[t].options,c=xe(a);L(c)},[t]),n.useEffect(()=>{if(A===M)return;const a=Math.ceil((A-M)/5),c=setInterval(()=>{H(d=>{const k=d+a;return k>=A?(clearInterval(c),A):k})},50);return()=>clearInterval(c)},[A,M]),n.useEffect(()=>{if($&&r.current){const a=ie.create(r.current,{resize:!0,useWorker:!0}),d=Date.now()+5e3,k=["#FFcc00","#996600","#1E90FF"],Q=()=>{a({particleCount:5,angle:60,spread:55,origin:{x:0,y:.6},colors:k}),a({particleCount:5,angle:120,spread:55,origin:{x:1,y:.6},colors:k}),Date.now()<d&&requestAnimationFrame(Q)};Q()}},[$]);const O=a=>{if(console.log("Option clicked:",a,"isLoggedIn:",l,"userType:",g,"gameEnabled:",x),!l||!x){console.log("Option click ignored: not logged in or game not enabled");return}s(a);const c=D[t];if(a===c.correct){if(z([...h,c]),P(k=>k+1),q([...J,a]),B(c.correctMessage||X[Math.floor(Math.random()*X.length)]),w(c.praise),C(!0),I(!0),j(!1),u(!1),setTimeout(()=>{C(!1),I(!1)},2500),r.current){const k=ie.create(r.current,{resize:!0,useWorker:!0}),fe=Date.now()+5e3,Ce=["#FFcc00","#996600","#1E90FF"],se=()=>{k({particleCount:5,spread:70,origin:{x:.5,y:.5},colors:Ce,ticks:200}),Date.now()<fe&&requestAnimationFrame(se)};se()}const d=t+1;d<D.length&&y(d)}else u(!0),j(!0),w(c.incorrectMessage||"Please try again!"),I(!0),C(!1),B(""),setTimeout(()=>{u(!1),j(!1),I(!1)},2e3);setTimeout(()=>{s(null),document.querySelectorAll(".option-button").forEach(d=>{d.classList.remove("clicked"),d.style.backgroundColor="",d.style.color="",d.style.boxShadow="none"})},1e3)},ue=()=>{y(0),z([]),P(0),H(0),Z(!1),q([]),s(null),C(!1),j(!1),I(!1),B(""),w("")},K={width:"100%","@media (max-width: 768px)":{width:"55%"},padding:"30px",fontSize:"18px",borderRadius:"6px",display:"flex",justifyContent:"center",alignItems:"center",color:"#fff"},ee={...K,backgroundColor:"#3a8b12",fontFamily:"'Bangers'",opacity:x?1:.8,fontWeight:"600",padding:"30px",fontSize:"23px",borderRadius:"8px",border:"4px solid #ffcc00",filter:x?"none":"brightness(0.7)"},te={...K,backgroundColor:"#6a1b9a",fontFamily:"'Bangers'",opacity:x?1:.8,fontWeight:"600",padding:"30px",fontSize:"23px",borderRadius:"8px",border:"4px solid #ffcc00",filter:x?"none":"brightness(0.7)"};return e.jsx(Ie,{children:e.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center",children:[e.jsx("canvas",{ref:r,className:"confetti-canvas"}),e.jsx("div",{className:"gaming-border",children:e.jsxs("div",{className:"purple-card",children:[e.jsx("img",{src:Be,style:{width:"30%",height:"30%",position:"absolute",left:"-7%",top:"-10%"}}),$?e.jsxs("div",{className:"fade-in",children:[e.jsx("h2",{className:"text-white text-center",style:{fontSize:"20px",fontFamily:"'Cinzel', serif"},children:"Congratulations!"}),e.jsxs("div",{className:"text-white pb-6 pt-6",style:{fontSize:"16px",marginBottom:"20px"},children:["You’ve unlocked this level — you’re ready!",e.jsx("br",{}),"This is your space now.",e.jsx("br",{}),e.jsx("b",{children:"Don’t stay silent with your truth."})]}),e.jsx("div",{style:{fontSize:"14px",marginTop:"6px",marginBottom:"16px",color:"white",textAlign:"center"},children:"No spam or noise — just the truth you’ve been seeking."}),e.jsx(_,{variant:"danger",className:"w-100 mb-3",onClick:ge,style:{backgroundColor:"#d22f26",border:"none",fontFamily:"'Courier New', monospace"},children:"Start Your +1 Conversation Now"}),e.jsx("div",{className:"fade-in",style:{color:"yellow",fontSize:"14px",textAlign:"center",cursor:"pointer"},onClick:ue,children:"Play Again"}),e.jsx("div",{style:{fontSize:"14px",marginTop:"20px",marginBottom:"22px",color:"white",textAlign:"center"},children:"Transformation begins when it’s shared."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-center mb-4",children:e.jsxs("div",{className:"animate-question",children:[e.jsxs("h2",{style:{fontSize:"0.875rem",color:"white",fontFamily:"'Cinzel', serif"},children:["Question ",t+1," of ",D.length]}),e.jsx("div",{className:"mt-2 text-white",style:{padding:"40px",fontSize:"2.5rem",fontFamily:"'Cinzel', serif",fontWeight:"600"},children:D[t].question})]})},t),S&&e.jsx("div",{className:"achievement-effect bounce",style:{fontFamily:"'Cinzel', serif",color:"yellow",fontSize:"30px",textAlign:"center"},children:T}),e.jsx("div",{className:"options-containr",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"20px","@media (max-width: 768px)":{gap:"4px"}},children:l&&(g==="reader"||g==="member"||g==="participant"||g==="star"||g==="admin")&&x?e.jsxs(e.Fragment,{children:[e.jsx(_,{variant:"light",id:"option1",className:`option-button ${b&&o[0]?"shake":""} ${F===o[0]?"clicked":""}`,onClick:()=>o[0]&&O(o[0]),disabled:!x||!l||!o[0]||t===1&&o[0]==="Compassion"||t===2&&(o[0]==="Compassion"||o[0]==="Curiosity"),style:ee,"aria-label":`Select option ${o[0]||"empty"}`,"aria-pressed":F===o[0],children:o[0]||""}),e.jsx(_,{variant:"light",id:"option2",className:`option-button ${b&&o[2]?"shake":""} ${F===o[2]?"clicked":""}`,onClick:()=>o[2]&&O(o[2]),disabled:!x||!l||!o[2]||t===1&&o[2]==="Compassion"||t===2&&(o[2]==="Compassion"||o[2]==="Curiosity"),style:te,"aria-label":`Select option ${o[2]||"empty"}`,"aria-pressed":F===o[2],children:o[2]||""}),e.jsx(_,{variant:"light",id:"option3",className:`option-button ${b&&o[1]?"shake":""} ${F===o[1]?"clicked":""}`,onClick:()=>o[1]&&O(o[1]),disabled:!x||!l||!o[1]||t===1&&o[1]==="Compassion"||t===2&&(o[1]==="Compassion"||o[1]==="Curiosity"),style:ee,"aria-label":`Select option ${o[1]||"empty"}`,"aria-pressed":F===o[1],children:o[1]||""}),e.jsx(_,{variant:"light",id:"option2",className:`option-button ${b&&o[3]?"shake":""} ${F===o[3]?"clicked":""}`,onClick:()=>o[3]&&O(o[3]),disabled:!x||!l||!o[3]||t===1&&o[3]==="Compassion"||t===2&&(o[3]==="Compassion"||o[3]==="Curiosity"),style:te,"aria-label":`Select option ${o[3]||"empty"}`,"aria-pressed":F===o[3],children:o[3]||""})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{width:"100%",height:"100px",borderRadius:"6px",backgroundColor:"#e5e5e5",animation:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Courier New', monospace",color:"#333"},children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginBottom:"8px"},children:[e.jsx("path",{d:"M16 10C16 8.93913 15.5786 7.9217 14.8284 7.17157C14.0783 6.42143 13.0609 6 12 6C10.9391 6 9.9217 6.42143 9.17157 7.17157C8.42143 7.9217 8 8.93913 8 10V11H7V10C7 8.67392 7.52678 7.40215 8.46447 6.46447C9.40215 5.52678 10.6739 5 12 5C13.3261 5 14.5978 5.47715 15.5355 6.46447C16.4732 7.40215 17 8.67392 17 10V14H16V10Z",fill:"#333"}),e.jsx("path",{d:"M19 11H5C4.74 11 4.48043 11.1054 4.29289 11.2929C4.10536 11.4804 4 11.74 4 12V20C4 20.2652 4.10536 20.5196 4.29289 20.7071C4.48043 20.8946 4.74 21 5 21H19C19.2652 21 19.5196 20.8946 19.7071 20.7071C19.8946 20.5196 20 20.2652 20 20V12C20 11.74 19.8946 11.4804 19.7071 11.2929C19.5196 11.1054 19.2652 11 19 11ZM5 12H19V20H5V12Z",fill:"#333"}),e.jsx("path",{d:"M12 14C12.5523 14 13 14.4477 13 15V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V15C11 14.4477 11.4477 14 12 14Z",fill:"#666"})]})}),e.jsx("div",{style:{width:"100%",height:"100px",borderRadius:"6px",backgroundColor:"#e5e5e5",animation:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Courier New', monospace",color:"#333"},children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginBottom:"8px"},children:[e.jsx("path",{d:"M16 10C16 8.93913 15.5786 7.9217 14.8284 7.17157C14.0783 6.42143 13.0609 6 12 6C10.9391 6 9.9217 6.42143 9.17157 7.17157C8.42143 7.9217 8 8.93913 8 10V11H7V10C7 8.67392 7.52678 7.40215 8.46447 6.46447C9.40215 5.52678 10.6739 5 12 5C13.3261 5 14.5978 5.47715 15.5355 6.46447C16.4732 7.40215 17 8.67392 17 10V14H16V10Z",fill:"#333"}),e.jsx("path",{d:"M19 11H5C4.74 11 4.48043 11.1054 4.29289 11.2929C4.10536 11.4804 4 11.74 4 12V20C4 20.2652 4.10536 20.5196 4.29289 20.7071C4.48043 20.8946 4.74 21 5 21H19C19.2652 21 19.5196 20.8946 19.7071 20.7071C19.8946 20.5196 20 20.2652 20 20V12C20 11.74 19.8946 11.4804 19.7071 11.2929C19.5196 11.1054 19.2652 11 19 11ZM5 12H19V20H5V12Z",fill:"#333"}),e.jsx("path",{d:"M12 14C12.5523 14 13 14.4477 13 15V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V15C11 14.4477 11.4477 14 12 14Z",fill:"#666"})]})}),e.jsx("div",{style:{width:"100%",height:"100px",borderRadius:"6px",backgroundColor:"#e5e5e5",animation:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Courier New', monospace",color:"#333"},children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginBottom:"8px"},children:[e.jsx("path",{d:"M16 10C16 8.93913 15.5786 7.9217 14.8284 7.17157C14.0783 6.42143 13.0609 6 12 6C10.9391 6 9.9217 6.42143 9.17157 7.17157C8.42143 7.9217 8 8.93913 8 10V11H7V10C7 8.67392 7.52678 7.40215 8.46447 6.46447C9.40215 5.52678 10.6739 5 12 5C13.3261 5 14.5978 5.47715 15.5355 6.46447C16.4732 7.40215 17 8.67392 17 10V14H16V10Z",fill:"#333"}),e.jsx("path",{d:"M19 11H5C4.74 11 4.48043 11.1054 4.29289 11.2929C4.10536 11.4804 4 11.74 4 12V20C4 20.2652 4.10536 20.5196 4.29289 20.7071C4.48043 20.8946 4.74 21 5 21H19C19.2652 21 19.5196 20.8946 19.7071 20.7071C19.8946 20.5196 20 20.2652 20 20V12C20 11.74 19.8946 11.4804 19.7071 11.2929C19.5196 11.1054 19.2652 11 19 11ZM5 12H19V20H5V12Z",fill:"#333"}),e.jsx("path",{d:"M12 14C12.5523 14 13 14.4477 13 15V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V15C11 14.4477 11.4477 14 12 14Z",fill:"#666"})]})}),e.jsx("div",{style:{width:"100%",height:"100px",borderRadius:"6px",backgroundColor:"#e5e5e5",animation:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"'Courier New', monospace",color:"#333"},children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{marginBottom:"8px"},children:[e.jsx("path",{d:"M16 10C16 8.93913 15.5786 7.9217 14.8284 7.17157C14.0783 6.42143 13.0609 6 12 6C10.9391 6 9.9217 6.42143 9.17157 7.17157C8.42143 7.9217 8 8.93913 8 10V11H7V10C7 8.67392 7.52678 7.40215 8.46447 6.46447C9.40215 5.52678 10.6739 5 12 5C13.3261 5 14.5978 5.47715 15.5355 6.46447C16.4732 7.40215 17 8.67392 17 10V14H16V10Z",fill:"#333"}),e.jsx("path",{d:"M19 11H5C4.74 11 4.48043 11.1054 4.29289 11.2929C4.10536 11.4804 4 11.74 4 12V20C4 20.2652 4.10536 20.5196 4.29289 20.7071C4.48043 20.8946 4.74 21 5 21H19C19.2652 21 19.5196 20.8946 19.7071 20.7071C19.8946 20.5196 20 20.2652 20 20V12C20 11.74 19.8946 11.4804 19.7071 11.2929C19.5196 11.1054 19.2652 11 19 11ZM5 12H19V20H5V12Z",fill:"#333"}),e.jsx("path",{d:"M12 14C12.5523 14 13 14.4477 13 15V17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17V15C11 14.4477 11.4477 14 12 14Z",fill:"#666"})]})})]})}),f&&l&&(g==="reader"||g==="member"||g==="admin")&&e.jsx("div",{className:"fade-in",style:{color:"white",fontSize:"16px",textAlign:"center"},children:N})]})]})}),!x&&e.jsxs("div",{style:{width:"100%",maxWidth:"500px",marginTop:"20px"},children:[e.jsx(_,{className:"w-100 mb-30",onClick:pe,style:{cursor:"pointer",backgroundColor:"#d22f26",color:"white",border:"none",borderRadius:"5px",padding:"10px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px"},children:"Yes — Join +1 Connect Now"}),W&&e.jsx("p",{className:"error",style:{color:"red",marginTop:"8px",fontSize:"14px",textAlign:"center"},children:W})]})]})})},Le=()=>{U();const i=de(),[t,y]=n.useState(!1);n.useState(!1);const[h,z]=n.useState(""),[b,u]=n.useState(""),[E,j]=n.useState(!1),[S,C]=n.useState(!1),[T,B]=n.useState({type:"jumbo",price:60,index:0});n.useRef(0);const N=localStorage.getItem("userToken"),[w,f]=n.useState(null);n.useEffect(()=>{(async()=>{if(N)try{const L=await ce(N),x=Se.get(L,"data.customerType","reader");f(x),x!=="reader"&&C(!0)}catch(L){console.error("Error fetching customer details:",L),u("Failed to fetch user details. Please try again.")}else u("Please log in to access Community Chat.")})()},[N]),n.useEffect(()=>{he.send({hitType:"pageview",page:i.pathname})},[i]);const I=n.useCallback(o=>{console.log("onGameComplete: Setting gameEnabled to false, showCommunityChat=",o),j(!1),o&&C(!0)},[]),A=()=>{console.log("handlePlayAgain: Setting gameEnabled to true, hiding CommunityChat"),j(!0),C(!1)},P=o=>{y(!1),o&&M(h,T.type)},M=(o,L)=>{console.log(`Initiating payment for ${o} with box type ${L}`)},H=()=>e.jsxs("section",{className:"mid-section",style:{marginBottom:"17%"},children:[e.jsxs("h4",{style:{fontFamily:"Cinzel",color:"#fff",marginBottom:"8px",fontSize:"26px",textAlign:"left"},children:["Rise With Your Tribe ",e.jsx("br",{})," Join +1 Connect Today"]}),e.jsx("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px"},children:e.jsx("b",{children:"Level II — Included Free with Your Complete Soul-Awakening System"})}),e.jsx("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:"You don’t have to walk the path to transformation alone."}),e.jsx("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:e.jsx("b",{children:"Why +1 Connect Changes Everything"})}),e.jsxs("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:[e.jsx("b",{children:"+1 Connect is your private, high-energy community"})," where awakening souls rise together:",e.jsxs("ul",{style:{paddingLeft:"20px",listStyleType:"disc"},children:[e.jsxs("li",{children:[e.jsx("b",{children:" A private, judgment-free circle"})," to finally share your breakthroughs"]}),e.jsxs("li",{children:[e.jsx("b",{children:" Real encouragement"})," from people who understand exactly what you’re going through"]}),e.jsxs("li",{children:["Celebrate your wins — ",e.jsx("b",{children:"big or small"})]}),e.jsxs("li",{children:["Share your experiences to ",e.jsx("b",{children:"keep your inner light steady"})]}),e.jsxs("li",{children:[e.jsx("b",{children:"No real names needed"})," — just authentic connection"]})]})]}),e.jsx("hr",{className:"yellow-line"}),e.jsxs("h4",{style:{fontSize:"16px",marginBottom:"22px",fontFamily:"Montserrat-Regular",textAlign:"center",color:"#c7c7c7"},children:[e.jsx("span",{style:{fontStyle:"italic"},children:"“I joined +1 Connect and instantly felt a shift — my doubts faded, and my confidence soared.”"}),e.jsx("br",{})," ",e.jsx("b",{children:"— Simon D."})]}),e.jsxs("h4",{style:{fontSize:"16px",marginBottom:"22px",fontFamily:"Montserrat-Regular",textAlign:"center",color:"#c7c7c7"},children:[e.jsx("span",{style:{fontStyle:"italic"},children:"“The book gave me clarity, and +1 Connect gave me courage. Watching others share their wins made me believe mine were possible too.”"}),e.jsx("br",{})," ",e.jsx("b",{children:"— Benjamin M."})]}),e.jsx("hr",{className:"yellow-line"}),e.jsx("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:e.jsx("b",{children:"The Magic of Awakening Together"})}),e.jsxs("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:["Something magical happens when awakening souls gather. Your transformation doesn’t just happen faster — it goes",e.jsx("b",{children:"  deeper, reaches further, and becomes unshakeable."})]}),e.jsx("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:e.jsx("b",{children:"Free with Your Complete Soul-Awakening System — Worth $147 Annually"})}),e.jsxs("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:["This month’s cohort is already sharing breakthrough moments daily. ",e.jsx("b",{children:" Don’t wait — your transformation accelerates"})," when you start with others today."]}),e.jsx("h6",{style:{fontFamily:"'Aboreto', sans-serif",fontWeight:"600",color:"#651023",fontSize:"28px",textAlign:"center",marginBottom:"0px"},children:"HMBS PowerPlay"}),e.jsx("h4",{style:{fontFamily:"Cinzel",color:"#fff",marginBottom:"40px",fontSize:"24px",textAlign:"center"},children:"Level II: The Awakening Spiral"}),e.jsx(Ae,{onGameComplete:I,enabled:E}),e.jsxs("h4",{style:{fontFamily:"Montserrat-Regular",fontSize:"16px",marginBottom:"18px",color:"#c7c7c7",textAlign:"left"},children:["Unlock your STAR faster, gain unstoppable momentum, and rise with your tribe — ",e.jsx("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:A,children:" completely free with your STAR system."})]})]});return e.jsxs(e.Fragment,{children:[t&&e.jsx(be,{setShowCookie:P,onAgree:()=>M(h,T.type)}),E||w==="reader"&&!S?H():S&&w&&w!=="reader"?e.jsx(Re,{onPlayAgain:A}):H()]})},me=re.memo(Le),Ve=({reply:i,user:t,handleReplyComment:y,customerId:h,likeComment:z,deleteComment:b})=>{var N,w;const[u,E]=n.useState(!1),[j,S]=n.useState(!1),[C,T]=n.useState(""),B=f=>{C&&(y(f,C),T(""))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"profile-reply-content",children:[e.jsxs("h5",{className:"flex-center-item",style:{gap:"6px"},children:[e.jsx("img",{src:"images/user-icon.svg",alt:"image",style:{border:`1px solid ${t.customerType==="reader"?"blue":t.customerType==="member"?"red":"yellow"}`}})," ",e.jsxs("a",{href:"#",style:{margin:"0px"},children:["#",i==null?void 0:i.customerShortId]})]}),e.jsx("p",{children:((N=i==null?void 0:i.text)==null?void 0:N.length)>150&&!j?e.jsxs(e.Fragment,{children:[i==null?void 0:i.text.slice(0,150),"...",e.jsx("span",{className:"cursor-p hover-blue",style:{color:"rgb(0, 123, 255)"},onClick:()=>S(!j),children:"show more"})]}):i==null?void 0:i.text}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"comment-reply flex-center-item",children:[e.jsx("span",{style:{cursor:(t==null?void 0:t.customId)!==i.customerShortId?"pointer":"not-allowed"},onClick:()=>(t==null?void 0:t.customId)!==i.customerShortId?E(!u):null,children:"Reply"}),e.jsx("span",{style:{marginLeft:"16px"},onClick:()=>z(i==null?void 0:i._id),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",className:"bi bi-heart",viewBox:"0 0 16 16",color:(w=i==null?void 0:i.likes)!=null&&w.find(f=>(f==null?void 0:f._id)===t._id)?"#d22f26":"#8C8C8C",children:e.jsx("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"})})})]})}),e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"comment-reply text-end",children:e.jsxs("div",{className:"dropup",children:[e.jsx("button",{type:"button",className:"btn btn-secondary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:"..."}),e.jsxs("ul",{className:"dropdown-menu",children:[h===i.customerShortId&&e.jsx("li",{children:e.jsx("span",{href:"#",children:"Edit"})}),h===i.customerShortId&&e.jsx("li",{onClick:()=>b(i._id),children:e.jsx("span",{href:"#",children:"Delete"})}),h!==i.customerShortId&&e.jsx("li",{children:e.jsx("span",{href:"#",children:"Report"})})]})]})})})]})]}),u&&e.jsx("div",{className:"reply-content",children:e.jsxs("div",{className:"profile-reply-content",children:[e.jsxs("h5",{className:"flex-center-item",style:{gap:"6px"},children:[e.jsx("img",{src:"images/user-icon.svg",style:{border:`1px solid ${t.customerType==="reader"?"blue":t.customerType==="member"?"red":"yellow"}`},alt:"image"})," ",e.jsxs("a",{href:"#",style:{margin:"0px"},children:["#",(t==null?void 0:t.customId)||"345294mse"]})]}),e.jsxs("div",{className:"input-group mb-3",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"Share your thoughts...",value:C,onChange:f=>T(f.target.value)}),e.jsx("button",{className:"btn",type:"submit",onClick:()=>B(i._id),children:e.jsx("svg",{width:20,height:19,viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M19.9777 9.50001C19.9777 9.96876 19.6652 10.4375 19.1965 10.6328L1.73553 18.1719C1.57928 18.25 1.42303 18.25 1.26678 18.25C0.915222 18.25 0.563659 18.1328 0.329284 17.8594C-0.0222781 17.5078 -0.100403 16.9219 0.133972 16.4531L3.0246 10.7109L12.4777 9.53907L3.0246 8.32813L0.133972 2.58595C-0.100403 2.1172 -0.0222781 1.53126 0.329284 1.1797C0.680847 0.78907 1.26678 0.671883 1.73553 0.867195L19.2355 8.3672C19.7043 8.56251 19.9777 9.03126 19.9777 9.50001Z",fill:"#F4F4F4"})})})]})]})})]})},Re=({onPlayAgain:i})=>{const{user:t,isAuthenticated:y}=ae(s=>s.auth),h=le(),z=U(),[b,u]=n.useState({comments:[]}),[E,j]=n.useState([]),[S,C]=n.useState(null),[T,B]=n.useState(""),[N,w]=n.useState([]),[f,I]=n.useState(""),[A,P]=n.useState("Recent"),[M,H]=n.useState(""),o=async()=>{h(V(!0));const s=await Ne();s!=null&&s.comments?(u(s),j(s.comments)):(u({comments:[]}),j([])),h(V(!1))},L=de();n.useEffect(()=>{he.send({hitType:"pageview",page:L.pathname})},[L]),n.useEffect(()=>{t&&((t==null?void 0:t.customerType)==="reader"||(t==null?void 0:t.customerType)==="star"||(t==null?void 0:t.customerType)==="member"||(t==null?void 0:t.customerType)==="follower"||(t==null?void 0:t.customerType)==="admin"||(t==null?void 0:t.customerType)==="participant")&&(C(t.customId),o())},[t]),n.useEffect(()=>{M&&u(s=>({...s,comments:E.filter(r=>r.text.toLowerCase().includes(M.toLowerCase()))}))},[M]);const x=async()=>{const s={bookId:b._id,customers:t,text:T,customerShortId:S};h(V(!0));const r=await ke(s);r&&r._id?(B(""),o()):h(V(!1))},Z=async(s,r)=>{if(!r&&!f)return;const m={bookId:b._id,customers:t,text:r||f,customerShortId:S};I(""),h(V(!0));const v=await Me(m,s);v&&v._id?(B(""),o()):h(V(!1))},W=s=>{if(N.includes(s)){w(r=>r.filter(m=>m!==s));return}w(r=>[...r,s])},R=async s=>{const r={customerShortId:t==null?void 0:t._id};h(V(!0)),await Fe(r,s)?o():h(V(!1))},J=()=>{P("Popular"),u(s=>({...s,comments:s.comments.sort((r,m)=>{var v,p;return((v=m==null?void 0:m.likes)==null?void 0:v.length)-((p=r==null?void 0:r.likes)==null?void 0:p.length)})}))},q=()=>{P("Following"),u(s=>({...s,comments:s.comments.sort((r,m)=>{var v,p;return((v=m==null?void 0:m.replies)==null?void 0:v.length)-((p=r==null?void 0:r.replies)==null?void 0:p.length)})}))},F=async s=>{const r={customerShortId:t==null?void 0:t.customId};h(V(!0)),await Te(r,s)?o():h(V(!1))};return e.jsx(e.Fragment,{children:(t==null?void 0:t.customerType)==="reader"||(t==null?void 0:t.customerType)==="star"||(t==null?void 0:t.customerType)==="member"||(t==null?void 0:t.customerType)==="follower"||(t==null?void 0:t.customerType)==="admin"||(t==null?void 0:t.customerType)==="participant"?e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"mid-section community-chat-sec",children:[e.jsx("div",{className:"d-flex align-items-center mb-3",style:{justifyContent:"flex-end"},children:e.jsx("a",{href:"#",onClick:i,style:{fontSize:"14px",textDecoration:"underline"},children:"Play HMBS Level-2 Again"})}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-3",children:e.jsx("div",{className:"search-content",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-9",children:e.jsx("div",{className:"search-input",children:e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",id:"basic-addon1",children:e.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",children:[e.jsxs("g",{clipPath:"url(#clip0_432_287)",children:[e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.33331 12C9.91064 12 12 9.91064 12 7.33331C12 4.75598 9.91064 2.66665 7.33331 2.66665C4.75598 2.66665 2.66665 4.75598 2.66665 7.33331C2.66665 9.91064 4.75598 12 7.33331 12ZM7.33331 13.3333C8.7425 13.3333 10.0382 12.8475 11.0621 12.0342C11.4427 11.732 11.7856 11.3845 12.0829 11C12.8669 9.98602 13.3333 8.71414 13.3333 7.33331C13.3333 4.0196 10.647 1.33331 7.33331 1.33331C4.0196 1.33331 1.33331 4.0196 1.33331 7.33331C1.33331 10.647 4.0196 13.3333 7.33331 13.3333Z",fill:"#737373"}),e.jsx("path",{d:"M14.5506 13.7826C14.615 13.7183 14.6158 13.6142 14.5525 13.5488L12.0829 11C11.7856 11.3845 11.4427 11.732 11.0621 12.0342L13.5488 14.5475C13.6138 14.6132 13.7198 14.6135 13.7851 14.5482L14.5506 13.7826Z",fill:"#737373"})]}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_432_287",children:e.jsx("rect",{width:16,height:16,fill:"white"})})})]})}),e.jsx("input",{type:"text",className:"",placeholder:"Search",value:M,onChange:s=>H(s.target.value)}),e.jsxs("a",{href:"#",children:[e.jsx("span",{className:"input-group-text",id:"basic-addon2",children:e.jsxs("svg",{width:16,height:16,viewBox:"0 0 16 16",children:[e.jsx("rect",{width:16,height:16,rx:8,fill:"#737373"}),e.jsx("path",{d:"M5 11L8 8L11 5M5 5L11 11",stroke:"#292929",strokeWidth:2})]})})," "]})]})})}),e.jsx("div",{className:"col-3",children:e.jsx("div",{className:"sort-dropdown",children:e.jsxs("div",{className:"dropdown",children:[e.jsxs("button",{type:"button",className:"btn dropdown-toggle flex-center-item","data-bs-toggle":"dropdown",style:{color:"#708090"},onClick:()=>{ne("communityChat",{buttonName:"communityChat"})},children:[A,e.jsx("span",{className:"caret",children:e.jsx("svg",{width:11,height:9,viewBox:"0 0 11 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.5 9L0.736861 0.749999L10.2631 0.75L5.5 9Z",fill:"#C7C7C7",fillOpacity:"0.7"})})})]}),e.jsxs("ul",{className:"dropdown-menu",children:[e.jsx("li",{onClick:()=>J(),children:e.jsx("a",{className:"dropdown-item",href:"#",children:"Popular"})}),e.jsx("li",{onClick:()=>q(),children:e.jsx("a",{className:"dropdown-item",href:"#",children:"Following"})})]})]})})})]})})})]}),e.jsx("section",{className:"profile-name-number",children:e.jsx("p",{children:e.jsxs("a",{href:"#",className:"flex-center-item",onClick:()=>z("/profile"),children:[e.jsx("span",{className:"caret",children:e.jsx("svg",{width:11,height:9,viewBox:"0 0 11 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.5 9L0.736861 0.749999L10.2631 0.75L5.5 9Z",fill:"#C7C7C7",fillOpacity:"0.7"})})}),"#",S]})})}),e.jsx("section",{className:"newsletter-sec profile-start-convo",children:e.jsx("form",{children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"",placeholder:"Have questions or insights to share?",value:T,onChange:s=>B(s.target.value)}),e.jsx("span",{className:"input-group-text",onClick:()=>x(),children:"Start Convo"})]})})}),e.jsxs("section",{className:"chat-content",children:[b.comments.length===0?e.jsx("div",{className:"text-center",children:e.jsx("p",{children:"No comments to show"})}):null,b.comments.filter(s=>!(s!=null&&s.isDeleted)).map(s=>{var r,m,v,p,Y;return e.jsxs("div",{className:"chat-box",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-11",children:e.jsx("div",{className:"profile-posted-content",children:e.jsxs("h5",{className:"flex-center-item",style:{gap:"6px"},children:[e.jsx("img",{style:{border:`1px solid ${t.customerType==="reader"?"blue":t.customerType==="member"?"red":t.customerType==="star"||t.customerType==="participant"?"green":"yellow"}`},src:"images/Avatar.png",alt:"image"})," ",e.jsxs("span",{className:"posted-by",style:{color:"black",fontWeight:"600"},children:[" ","Posted by"," ",e.jsxs("span",{className:"cursor-p hover-red",children:["#",(s==null?void 0:s.customerShortId)||""," "]})]})," "]})})})}),e.jsxs("div",{className:"question-answer-content",children:[e.jsx("h4",{children:(s==null?void 0:s.text)||""}),e.jsx("p",{children:s!=null&&s.replies?(r=s==null?void 0:s.replies[0])==null?void 0:r.text:""})]}),e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-8",children:e.jsx("div",{className:"comment-icon",children:e.jsxs("span",{className:"flex-center-item cursor-p",children:[e.jsxs("svg",{width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{clipPath:"url(#clip0_47_480)",children:e.jsx("path",{d:"M6.72 20.91C6.52 20.91 6.35 20.84 6.21 20.7C6.07 20.56 6 20.39 6 20.19V17.03H3.62C2.96667 17.03 2.36333 16.8667 1.81 16.54C1.25667 16.2134 0.816667 15.7734 0.49 15.22C0.163333 14.6667 0 14.0634 0 13.41V5.41003C0 4.7567 0.163333 4.15337 0.49 3.60003C0.816667 3.0467 1.25667 2.6067 1.81 2.28004C2.36333 1.95337 2.96667 1.79004 3.62 1.79004H14.62C15.2733 1.79004 15.8767 1.95337 16.43 2.28004C16.9833 2.6067 17.4233 3.0467 17.75 3.60003C18.0767 4.15337 18.24 4.7567 18.24 5.41003V13.41C18.24 14.0634 18.0767 14.6667 17.75 15.22C17.4233 15.7734 16.9833 16.2134 16.43 16.54C15.8767 16.8667 15.2733 17.03 14.62 17.03H11.36L7.2 20.73C7.06667 20.85 6.90667 20.91 6.72 20.91ZM3.62 3.03004C3.19333 3.03004 2.79667 3.1367 2.43 3.35003C2.06333 3.56337 1.77333 3.85337 1.56 4.22003C1.34667 4.5867 1.24 4.98337 1.24 5.41003V13.41C1.24 13.8367 1.34667 14.2334 1.56 14.6C1.77333 14.9667 2.06333 15.2567 2.43 15.47C2.79667 15.6834 3.19333 15.79 3.62 15.79H7.24V19.01L10.88 15.79H14.62C15.0467 15.79 15.4433 15.6834 15.81 15.47C16.1767 15.2567 16.4667 14.9667 16.68 14.6C16.8933 14.2334 17 13.8367 17 13.41V5.41003C17 4.98337 16.8933 4.5867 16.68 4.22003C16.4667 3.85337 16.1767 3.56337 15.81 3.35003C15.4433 3.1367 15.0467 3.03004 14.62 3.03004H3.62Z",fill:"#8C8C8C"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_47_480",children:e.jsx("rect",{width:20,height:20,fill:"white",transform:"matrix(1 0 0 -1 0 20.91)"})})})]}),e.jsxs("span",{className:"comment-count",onClick:()=>W(s==null?void 0:s._id),children:[e.jsx("strong",{children:(m=s==null?void 0:s.replies)==null?void 0:m.length})," Thoughts"]}),e.jsx("span",{style:{marginLeft:"16px"},onClick:()=>R(s==null?void 0:s._id),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"currentColor",className:"bi bi-heart",viewBox:"0 0 16 16",color:(v=s==null?void 0:s.likes)!=null&&v.find(l=>(l==null?void 0:l._id)===l._id)?"#d22f26":"#8C8C8C",children:e.jsx("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"})})}),e.jsx("span",{className:"comment-count",onClick:()=>R(s==null?void 0:s._id),children:e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:(p=s==null?void 0:s.likes)==null?void 0:p.length})," Likes"]})})]})})}),e.jsx("div",{className:"col-4",children:e.jsx("div",{className:"comment-reply text-end",children:e.jsxs("div",{className:"dropup",children:[e.jsx("button",{type:"button",className:"btn btn-secondary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:()=>{ne("communityChatReply",{buttonName:"communityChatReply"})},children:"..."}),e.jsx("ul",{className:"dropdown-menu",children:S===s.customerShortId&&e.jsx("li",{onClick:()=>F(s._id),children:e.jsx("span",{children:"Delete"})})})]})})})]}),N.includes(s._id)&&((Y=s==null?void 0:s.replies)==null?void 0:Y.length)>0?s.replies.filter(l=>!(l!=null&&l.isDeleted)).map(l=>e.jsx(Ve,{reply:l,user:t,handleReplyComment:Z,customerId:S,likeComment:R,deleteComment:F},l==null?void 0:l._id)):null,N.includes(s._id)&&(t==null?void 0:t.customId)!==s.customerShortId?e.jsx("div",{className:"reply-content",children:e.jsxs("div",{className:"profile-reply-content",children:[e.jsxs("h5",{className:"flex-center-item",style:{gap:"6px"},children:[e.jsx("img",{src:"images/user-icon.svg",alt:"image",style:{border:`1px solid ${t.customerType==="reader"?"blue":t.customerType==="member"?"red":t.customerType==="star"||t.customerType==="participant"?"green":"yellow"}`}})," ",e.jsxs("a",{href:"#",style:{margin:"0px",fontSize:"10px",fontWeight:"600"},children:["#",(t==null?void 0:t.customId)||"345294mse"]})]}),e.jsxs("div",{className:"input-group mb-3",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"Share your thoughts...",value:f,onChange:l=>I(l.target.value)}),e.jsx("button",{className:"btn",type:"submit",onClick:()=>Z(s._id),children:e.jsx("svg",{width:20,height:19,viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M19.9777 9.50001C19.9777 9.96876 19.6652 10.4375 19.1965 10.6328L1.73553 18.1719C1.57928 18.25 1.42303 18.25 1.26678 18.25C0.915222 18.25 0.563659 18.1328 0.329284 17.8594C-0.0222781 17.5078 -0.100403 16.9219 0.133972 16.4531L3.0246 10.7109L12.4777 9.53907L3.0246 8.32813L0.133972 2.58595C-0.100403 2.1172 -0.0222781 1.53126 0.329284 1.1797C0.680847 0.78907 1.26678 0.671883 1.73553 0.867195L19.2355 8.3672C19.7043 8.56251 19.9777 9.03126 19.9777 9.50001Z",fill:"#F4F4F4"})})})]})]})}):null]},s._id)})]})]}):e.jsx(me,{})})},_e=()=>e.jsx(me,{});export{_e as default};
