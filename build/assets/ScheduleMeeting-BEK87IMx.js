import{r as c,j as e,c as y,a as k,aI as C,aJ as D}from"./index-4wfhNZTH.js";/* empty css              */import{g as w}from"./helper-DFIVx3sR.js";function B({submitHandler:r=()=>{}}){const[t,i]=c.useState({accountHolderName:"",bankName:"",accountNumber:"",ifscCode:"",branchName:""}),n=o=>{const{name:s,value:d}=o.target;i({...t,[s]:d})},l=o=>{o.preventDefault(),r({...t}),i({accountHolderName:"",bankName:"",accountNumber:"",ifscCode:"",branchName:""})};return e.jsxs("div",{className:"b-card",children:[e.jsx("h2",{className:"b-card-title",children:"Bank Details"}),e.jsxs("form",{onSubmit:l,className:"schedule-container-light",style:{height:"fit-content"},children:[e.jsx("input",{type:"text",name:"accountHolderName",placeholder:"Account Holder Name",value:t.accountHolderName,onChange:n,required:!0}),e.jsx("input",{type:"text",name:"bankName",placeholder:"Bank Name",value:t.bankName,onChange:n,required:!0}),e.jsx("input",{type:"number",name:"accountNumber",placeholder:"Account Number",value:t.accountNumber,onChange:n,required:!0}),e.jsx("input",{type:"text",name:"ifscCode",placeholder:"IFSC Code",value:t.ifscCode,onChange:n,required:!0}),e.jsx("input",{type:"text",name:"branchName",placeholder:"Branch Name",value:t.branchName,onChange:n,required:!0}),e.jsx("div",{className:"login-content ",children:e.jsx("button",{type:"submit",className:"btn schedule-button-dark",children:"Submit"})})]})]})}const L=["English","Mandarin Chinese","Hindi","Spanish","French","Arabic","Bengali","Russian","Portuguese","Urdu","Indonesian","German","Japanese","Marathi","Telugu","Turkish","Tamil","Vietnamese","Korean","Italian","Hausa","Thai","Gujarati","Kannada","Persian","Polish","Ukrainian","Malayalam","Odia","Punjabi","Romanian","Dutch","Hungarian","Czech","Greek","Swedish","Hebrew","Bulgarian","Danish","Finnish","Norwegian","Slovak","Lithuanian","Latvian","Croatian","Serbian","Bosnian","Estonian","Icelandic","Irish"],T=({selectedLanguage:r,setSelectedLanguage:t})=>{const[i,n]=c.useState(!1),l=c.useRef(null);c.useEffect(()=>{const s=d=>{l.current&&!l.current.contains(d.target)&&n(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const o=s=>{t(s),n(!1)};return e.jsxs("div",{className:"dropdown-container",ref:l,children:[e.jsx("div",{className:"dropdown-header",onClick:()=>n(!i),children:r}),i&&e.jsx("ul",{className:"dropdown-list",children:L.map(s=>e.jsx("li",{className:"dropdown-item",onClick:()=>o(s),children:s},s))})]})},F=()=>{const[r,t]=c.useState(""),[i,n]=c.useState(""),[l,o]=c.useState(""),[s,d]=c.useState(!1),[g,f]=c.useState("Select Language"),{user:u}=y(a=>a.auth),x=k(),h=c.useRef(null),S=async a=>{const m=w(i+" "+l);if(!(await C({customId:u==null?void 0:u.customId,...a})).success){alert("Failed to update bank details!");return}const p=await D({title:r,date:m,customId:u==null?void 0:u._id,bankDetails:a,language:g});n(""),o(""),t(""),p.success?(alert("Session has been scheduled! Please check your email for the session details."),x("/meetings")):(alert("Failed to schedule the session!"),x("/schedule")),d(!1)},b=()=>{!i||!l||!r?alert("Please enter a valid title and date"):d(!0)};return c.useEffect(()=>{if(h.current){const a=new Date,m=new Date(a);m.setDate(a.getDate()+1);const N=m.getFullYear(),p=String(m.getMonth()+1).padStart(2,"0"),j=String(m.getDate()).padStart(2,"0"),v=`${N}-${p}-${j}`;h.current.min=v}},[]),e.jsx("section",{className:"mid-section",style:{display:"flex",flexDirection:"column",gap:"2rem"},children:s?e.jsx("div",{className:"schedule-container-light",children:e.jsx(B,{submitHandler:S})}):e.jsxs("div",{className:"schedule-container-light",children:[e.jsx("h4",{style:{margin:"0 auto",fontSize:"1rem"},children:"Schedule a Session"}),e.jsx("input",{type:"text",placeholder:"Meeting Title",value:r,onChange:a=>t(a.target.value)}),e.jsx(T,{selectedLanguage:g,setSelectedLanguage:f}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"space-between"},children:[e.jsx("input",{ref:h,type:"date",value:i,onChange:a=>n(a.target.value),placeholder:"Date and Time",className:"schedule-datepicker-light"}),e.jsx("input",{type:"time",value:l,onChange:a=>o(a.target.value),placeholder:"Date and Time",className:"schedule-timepicker-light"})]}),e.jsx("div",{className:"login-content ",children:e.jsx("button",{type:"submit",className:"btn schedule-button-dark",onClick:!i||!l||!r?()=>{}:b,style:{margin:"0",cursor:!i||!r?"not-allowed":"pointer",fontSize:"1rem"},title:"Please enter a valid title and date",children:"Schedule Session"})}),e.jsx("span",{})]})})};export{F as default};
